prog = [
    0xa9, 0xff,
    0x8d, 0b00000011, 0b01100000,
    0x8d, 0b00000010, 0b01100000,

    0xa9, 0x00,
    0x8d, 0x0f, 0x60,
    0xa9, 0x80,
    0x8d, 0x0f, 0x60,
    0xa9, 0b10,
    0x8d, 0x00, 0x60,
    0xa9, 0x00,
    0x8d, 0x0f, 0x60,

    0xa9, 0x00,
    0x8d, 0x0f, 0x60,
    0xa9, 0x80,
    0x8d, 0x0f, 0x60,
    0xa9, 0b00111000,
    0x8d, 0x00, 0x60,
    0xa9, 0x00,
    0x8d, 0x0f, 0x60,

    0xa9, 0x00,
    0x8d, 0x0f, 0x60,
    0xa9, 0x80,
    0x8d, 0x0f, 0x60,
    0xa9, 0b00001111,
    0x8d, 0x00, 0x60,
    0xa9, 0x00,
    0x8d, 0x0f, 0x60,

    0xa9, 0x00,
    0x8d, 0x0f, 0x60,
    0xa9, 0x80,
    0x8d, 0x0f, 0x60,
    0xa9, 0b00000110,
    0x8d, 0x00, 0x60,
    0xa9, 0x00,
    0x8d, 0x0f, 0x60,

    0xa9, 0x20,
    0x8d, 0x0f, 0x60,
    0xa9, 0xa0,
    0x8d, 0x0f, 0x60,
    0xa9, 0x4f,
    0x8d, 0x00, 0x60,
    0xa9, 0x20,
    0x8d, 0x0f, 0x60,

    0xa9, 0x20,
    0x8d, 0x0f, 0x60,
    0xa9, 0xa0,
    0x8d, 0x0f, 0x60,
    0xa9, 0x4b,
    0x8d, 0x00, 0x60,
    0xa9, 0x20,
    0x8d, 0x0f, 0x60,
]

address = 0x8000
data = []
while address <= 0xffff
    byte =
        if address == 0xfffc
            0x00
        elsif address == 0xfffd
            0x80
        elsif (address - 0x8000) < prog.length
            prog[address - 0x8000]
        elsif address == 0x8000 + prog.length
            0x4c
        elsif address == 0x8000 + prog.length + 1
            0x00
        elsif address == 0x8000 + prog.length + 2
            0x80
        else
            0xea
        end
    data.push(byte)
    address += 1
end

File.binwrite("prog.bin", data.pack("C*"))